import { writable, derived } from 'svelte/store';
import { save, load } from './prefs';

type Lang = 'en'|'lv'|'ru';
export const lang = writable<Lang>(load<Lang>('lg-lang','en'));
lang.subscribe(v => save('lg-lang', v));

const dict: Record<Lang, Record<string,string>> = {
  en: {
    hero_kicker: 'Reclame Fabriek R&D',
    hero_title: 'LUMIGRID LED Node',
    hero_sub: 'A compact controller for LED signage. Choose colour, motion and brightness. Save scenes. Lights can run on a plan, and several runs can move together.',
    what_title:'What LUMIGRID <span class="accent">LED Node</span> does',
    what_1_t:'<span class="accent">Simple</span> control', what_1_d:'Open a web page. Choose colour, motion and brightness. Save favourites as scenes.',
    what_2_t:'Plan the <span class="accent">day</span>',   what_2_d:'Calm mornings, clean daytime, warm evenings.',
    what_3_t:'Runs <span class="accent">together</span>',  what_3_d:'Several runs can move in step so long strips look like one.',
    what_4_t:'Works <span class="accent">anywhere</span>', what_4_d:'Shop windows, logo letters, façades, lightboxes.',
    faq_title: '<span class="accent">FAQ</span>',
    faq_q1: 'Do I need special software?',
    faq_a1: 'No. Control is in a web page.',
    faq_q2: 'Can it run white and colour?',
    faq_a2: 'Yes. Smooth white dimming and animated colour strips.',
    faq_q3: 'Will lights stay in sync?',
    faq_a3: 'Yes. Effects are designed to line up across runs.',
    contact_title: "Let's talk <span class=\"accent\">lighting</span>",
    contact_intro: "Share the facade, lettering, or window you want to transform. We'll map zones, looks, and schedule suggestions, then respond within one business day.",
    nav_stories: 'Stories',
    nav_cases: 'Cases',
    nav_contact: 'Contact',
    theme_light: 'Light theme',
    theme_dark: 'Dark theme',
    theme_high_contrast: 'High contrast theme',
    gallery_title: 'Project <span class="accent">gallery</span>',
    gallery_lead: 'Explore our curated showcase of LED Node installations across different settings.',
    gallery_retail_window: 'Retail window halo',
    gallery_retail_window_desc: 'Layered gradients keep merchandise legible without glare.',
    gallery_outdoor_facade: 'Outdoor facade sync',
    gallery_outdoor_facade_desc: 'Long runs stay in step with a single controller.',
    gallery_logo_letter: 'Logo letter glow',
    gallery_logo_letter_desc: 'Frosted acrylic keeps the face clean and halo subtle.',
    gallery_hospitality: 'Hospitality welcome wall',
    gallery_hospitality_desc: 'Soft amber tone mapped to traffic peaks.',
    gallery_product_shelf: 'Interactive product shelf',
    gallery_product_shelf_desc: 'A muted base with reactive pulses for launch weeks.',
    gallery_transit_hub: 'Transit hub ticker',
    gallery_transit_hub_desc: 'High-contrast strips for wayfinding without flicker.',
    media_title: 'Real installations & demonstrations',
    highlights_title: 'Key <span class="accent">highlights</span>',
    highlights_lead: 'What makes LED Node the right choice for your signage lighting.',
    highlights_dimming: 'Clean dimming',
    highlights_dimming_desc: 'Smooth, flicker-free white light from 100% down to ultra-low levels.',
    highlights_colour: 'Colour motion',
    highlights_colour_desc: 'Attention-getting effects and dynamic color transitions when you need them.',
    highlights_setup: 'Simple setup',
    highlights_setup_desc: 'Professional installation and ongoing support included with every deployment.',
    highlights_reliable: 'Reliable',
    highlights_reliable_desc: 'Automatically resumes your last scene after power returns. Built to last.',
    usecase_retail: 'Retail window rhythm',
    usecase_retail_desc: 'Calm colour in the day; a gentle halo by evening.',
    usecase_brand: 'Brand letter precision',
    usecase_brand_desc: 'Logo letters stay clean white; halo only when you want attention.',
    usecase_outdoor: 'Outdoor facade choreography',
    usecase_outdoor_desc: 'Façade runs line up so the whole wall moves as one.',
    usecase_default_desc: 'Lighting that serves the message, not noise.'
  },
  lv: {
    hero_kicker:'Reclame Fabriek R&D',
    hero_title:'LUMIGRID LED mezgls',
    hero_sub:'Kompakts kontrolieris LED izkārtnēm. Izvēlieties krāsu, kustību un spilgtumu. Saglabājiet ainas. Gaismas var darboties pēc plāna un vairākas līnijas kustas saskaņoti.',
    what_title:'Ko dara LUMIGRID <span class="accent">LED mezgls</span>',
    what_1_t:'<span class="accent">Vienkārša</span> vadība', what_1_d:'Atveriet tīmekļa lapu. Izvēlieties krāsu, kustību un spilgtumu. Saglabājiet iecienītās ainas.',
    what_2_t:'Dienas <span class="accent">plāns</span>',     what_2_d:'Rīti mierīgi, diena tīra, vakars silts.',
    what_3_t:'Saskaņota <span class="accent">darbība</span>',what_3_d:'Vairākas līnijas kustas vienā solī – izskatās kā viena gaismas līnija.',
    what_4_t:'Der <span class="accent">jebkur</span>',       what_4_d:'Vitrīnas, burtu logo, fasādes, gaismas kastes.',
    faq_title: '<span class="accent">BUJ</span> (Bieži uzdotie jautājumi)',
    faq_q1: 'Vai man vajag īpašu programmatūru?',
    faq_a1: 'Nē. Vadība ir tīmekļa lapā.',
    faq_q2: 'Vai tas var darboties baltā un krāsā?',
    faq_a2: 'Jā. Gluds baltās gaismas regulēšana un animētas krāsu joslas.',
    faq_q3: 'Vai gaismas paliks sinhronā?',
    faq_a3: 'Jā. Efekti ir veidoti, lai līdzinātos pār visām līnijām.',
    contact_title: 'Apspriedīsim <span class="accent">apgaismojumu</span>',
    contact_intro: 'Dalieties ar fasādi, burtiem vai vitrīnu, ko vēlaties pārveidot. Mēs kartēsim zonas, izskatu un grafika ieteikumus, pēc tam atbildēsim vienas darba dienas laikā.',
    nav_stories: 'Stāsti',
    nav_cases: 'Gadījumi',
    nav_contact: 'Kontakti',
    theme_light: 'Gaišā tēma',
    theme_dark: 'Tumšā tēma',
    theme_high_contrast: 'Augsta kontrasta tēma',
    gallery_title: 'Projektu <span class="accent">galerija</span>',
    gallery_lead: 'Izpētiet mūsu atlasīto LED Node instalāciju izstādi dažādās vidēs.',
    gallery_retail_window: 'Veikala vitrīnas halo',
    gallery_retail_window_desc: 'Slāņoti gradienti saglabā preces salasāmas bez atspīdumiem.',
    gallery_outdoor_facade: 'Ārējās fasādes sinhronizācija',
    gallery_outdoor_facade_desc: 'Garas līnijas paliek saskaņotas ar vienu kontrolieri.',
    gallery_logo_letter: 'Logo burtu spīdums',
    gallery_logo_letter_desc: 'Matēts akrilāts saglabā seju tīru un halo smalku.',
    gallery_hospitality: 'Viesmīlības sagaidīšanas siena',
    gallery_hospitality_desc: 'Maigs dzintara tonis kartēts uz apmeklētāju plūsmām.',
    gallery_product_shelf: 'Interaktīvs produktu plaukts',
    gallery_product_shelf_desc: 'Kluss pamats ar reaktīviem impulsiem palaišanas nedēļās.',
    gallery_transit_hub: 'Tranzīta mezgla rādītājs',
    gallery_transit_hub_desc: 'Augsta kontrasta joslas ceļa norādēm bez mirgošanas.',
    media_title: 'Reālās instalācijas un demonstrācijas',
    highlights_title: 'Galvenie <span class="accent">izcēlumi</span>',
    highlights_lead: 'Kāpēc LED Node ir pareizā izvēle jūsu izkārtņu apgaismojumam.',
    highlights_dimming: 'Tīra aptumšošana',
    highlights_dimming_desc: 'Gluda, bez mirgošanas balta gaisma no 100% līdz ultra zemiem līmeņiem.',
    highlights_colour: 'Krāsu kustība',
    highlights_colour_desc: 'Uzmanību piesaistoši efekti un dinamiskas krāsu pārejas, kad tas nepieciešams.',
    highlights_setup: 'Vienkārša uzstādīšana',
    highlights_setup_desc: 'Profesionāla instalācija un pastāvīgs atbalsts iekļauts katrā izvietojumā.',
    highlights_reliable: 'Uzticams',
    highlights_reliable_desc: 'Automātiski atjauno pēdējo ainu pēc strāvas atgriešanās. Izturīgs.',
    usecase_retail: 'Veikala vitrīnas ritms',
    usecase_retail_desc: 'Mierīga krāsa dienā; maigs halo vakarā.',
    usecase_brand: 'Zīmola burtu precizitāte',
    usecase_brand_desc: 'Logo burti paliek tīri balti; halo tikai tad, kad vēlaties uzmanību.',
    usecase_outdoor: 'Ārējās fasādes horeogrāfija',
    usecase_outdoor_desc: 'Fasādes līnijas saskaņojas, lai visa siena kustētos kā viena.',
    usecase_default_desc: 'Apgaismojums, kas kalpo vēstījumam, nevis troksnim.'
  },
  ru: {
    hero_kicker:'Reclame Fabriek R&D',
    hero_title:'LUMIGRID LED Node',
    hero_sub:'Компактный контроллер для световых вывесок. Выберите цвет, движение и яркость. Сохраняйте сцены. Свет может работать по плану, а несколько линий — двигаться синхронно.',
    what_title:'Что умеет LUMIGRID <span class="accent">LED Node</span>',
    what_1_t:'<span class="accent">Простое</span> управление', what_1_d:'Откройте веб-страницу. Выберите цвет, движение и яркость. Сохраните любимые сцены.',
    what_2_t:'План на <span class="accent">день</span>',       what_2_d:'Спокойное утро, чистый день, тёплый вечер.',
    what_3_t:'Синхронная <span class="accent">работа</span>',  what_3_d:'Несколько линий двигаются в ногу — смотрится как одна линия света.',
    what_4_t:'Подходит <span class="accent">куда угодно</span>',what_4_d:'Витрины, объёмные буквы, фасады, лайтбоксы.',
    faq_title: '<span class="accent">Часто задаваемые вопросы</span>',
    faq_q1: 'Нужна ли специальная программа?',
    faq_a1: 'Нет. Управление через веб-страницу.',
    faq_q2: 'Может работать с белым и цветным светом?',
    faq_a2: 'Да. Плавная регулировка белого света и анимированные цветные полосы.',
    faq_q3: 'Будет ли свет синхронизирован?',
    faq_a3: 'Да. Эффекты разработаны для синхронной работы на всех линиях.',
    contact_title: 'Давайте поговорим о <span class="accent">свете</span>',
    contact_intro: 'Расскажите о фасаде, буквах или витрине, которую хотите преобразить. Мы создадим карту зон, внешний вид и график, затем ответим в течение одного рабочего дня.',
    nav_stories: 'Истории',
    nav_cases: 'Кейсы',
    nav_contact: 'Контакты',
    theme_light: 'Светлая тема',
    theme_dark: 'Тёмная тема',
    theme_high_contrast: 'Высококонтрастная тема',
    gallery_title: 'Галерея <span class="accent">проектов</span>',
    gallery_lead: 'Ознакомьтесь с нашей подборкой инсталляций LED Node в различных условиях.',
    gallery_retail_window: 'Ореол витрины магазина',
    gallery_retail_window_desc: 'Слоистые градиенты сохраняют товар читаемым без бликов.',
    gallery_outdoor_facade: 'Синхронизация наружного фасада',
    gallery_outdoor_facade_desc: 'Длинные линии остаются синхронизированными с одним контроллером.',
    gallery_logo_letter: 'Свечение букв логотипа',
    gallery_logo_letter_desc: 'Матовый акрил сохраняет лицевую сторону чистой, а ореол тонким.',
    gallery_hospitality: 'Приветственная стена гостеприимства',
    gallery_hospitality_desc: 'Мягкий янтарный тон, привязанный к пикам трафика.',
    gallery_product_shelf: 'Интерактивная полка для продуктов',
    gallery_product_shelf_desc: 'Приглушённая основа с реактивными импульсами для недель запуска.',
    gallery_transit_hub: 'Табло транзитного узла',
    gallery_transit_hub_desc: 'Высококонтрастные полосы для навигации без мерцания.',
    media_title: 'Реальные установки и демонстрации',
    highlights_title: 'Ключевые <span class="accent">преимущества</span>',
    highlights_lead: 'Что делает LED Node правильным выбором для освещения вашей вывески.',
    highlights_dimming: 'Чистое затемнение',
    highlights_dimming_desc: 'Плавный белый свет без мерцания от 100% до ультранизких уровней.',
    highlights_colour: 'Цветное движение',
    highlights_colour_desc: 'Привлекающие внимание эффекты и динамические цветовые переходы, когда они нужны.',
    highlights_setup: 'Простая установка',
    highlights_setup_desc: 'Профессиональная установка и постоянная поддержка включены в каждое развёртывание.',
    highlights_reliable: 'Надёжный',
    highlights_reliable_desc: 'Автоматически возобновляет последнюю сцену после возврата питания. Долговечный.',
    usecase_retail: 'Ритм витрины магазина',
    usecase_retail_desc: 'Спокойный цвет днём; мягкий ореол вечером.',
    usecase_brand: 'Точность букв бренда',
    usecase_brand_desc: 'Буквы логотипа остаются чисто белыми; ореол только когда нужно внимание.',
    usecase_outdoor: 'Хореография наружного фасада',
    usecase_outdoor_desc: 'Линии фасада выстраиваются так, чтобы вся стена двигалась как одна.',
    usecase_default_desc: 'Освещение, которое служит сообщению, а не шуму.'
  }
};

export const t = derived(lang, ($lang) => (key: string) => dict[$lang]?.[key] ?? dict.en[key] ?? key);
