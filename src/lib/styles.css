:root{
  --bg-0:#0b1120; --ink:#f8fafc; --muted:#cbd5e1;
  --a:#e73ba3; --b:#6c2bd9; --c:#1cc5dc; --warm:#ffd166;
  --ring: 3px solid var(--warm);
  --fs-h1: clamp(2rem, 5vw, 3.25rem);
  --fs-h2: clamp(1.4rem, 3.2vw, 2rem);
  --fs-body: clamp(1rem, 1.6vw, 1.1rem);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; color:var(--ink); background:var(--bg-0);
  font: 400 var(--fs-body)/1.6 system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif;
  isolation:isolate;
}
:focus-visible{ outline: var(--ring); outline-offset: 2px; }

.skip-link{
  position:fixed;
  left:50%;
  top:-4rem;
  transform:translateX(-50%);
  padding:.6rem 1rem;
  border-radius:.9rem;
  border:1px solid rgba(255,255,255,.35);
  background:rgba(8,16,26,.92);
  color:var(--ink);
  text-decoration:none;
  font-weight:600;
  transition:top .25s ease;
  z-index:999;
}
.skip-link:focus-visible{
  top:1rem;
}

main:focus-visible{
  outline: var(--ring);
  outline-offset: 4px;
}

a{ color:inherit }

.container{ width:min(1140px, 92vw); margin-inline:auto; }
.section{ padding: clamp(1.5rem, 5vw, 4rem) 0; }

.hero{ display:grid; gap:1rem; padding-top: clamp(2rem, 10vh, 7rem); }
.hero, #demo, #mesh, #editor{ will-change: transform; }
.hero h1{ font-size:var(--fs-h1); line-height:1.1; margin:0; }
.hero p.lead{ color:var(--muted); margin:.25rem 0 0; max-width:60ch; }

.sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

.util{ position:sticky; top:0; z-index:10; backdrop-filter: blur(8px);
  background: color-mix(in oklab, #fff 8%, transparent);
  border-bottom: 1px solid rgba(255,255,255,.12);
}
.util-inner{ display:flex; align-items:center; gap:.5rem; padding:.5rem .75rem; }
.util .spacer{ flex:1 }

.btn{ display:inline-flex; gap:.45rem; align-items:center; padding:.6rem .85rem; border-radius:.9rem; border:1px solid rgba(255,255,255,.2); background:rgba(255,255,255,.06); color:var(--ink); text-decoration:none; cursor:pointer; font:inherit; position:relative }
.btn.primary{ background: linear-gradient(135deg, var(--a), var(--b), var(--c)); color:#08101a; border:0 }
.btn .dot{ width:.6rem; height:.6rem; border-radius:50%; background:var(--warm); box-shadow:0 0 0 2px rgba(0,0,0,.2); transition:background .3s ease; }
.btn[data-theme="dark"] .dot{ background:var(--a); }
.btn[data-theme="light"] .dot{ background:var(--c); }
.btn[data-tts="on"] .dot{ background:var(--warm); box-shadow:0 0 0 2px rgba(255,255,255,.35); }
.btn .btn-label{ font-weight:600; letter-spacing:.01em; }

.chips{ display:flex; flex-wrap:wrap; gap:.5rem }
.chip{ padding:.45rem .75rem; border-radius:999px; border:1px solid rgba(255,255,255,.2); background:rgba(255,255,255,.06); cursor:pointer; font:inherit }
.chip[aria-pressed="true"], .chip[aria-checked="true"]{ outline: var(--ring); background:rgba(255,255,255,.12) }

.grid{ display:grid; gap: clamp(1rem, 2.5vw, 1.5rem) }
.grid-2{ grid-template-columns: repeat(2, minmax(0,1fr)) }
@media (max-width: 900px){ .grid-2{ grid-template-columns: 1fr } }

.card{ background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.14);
  backdrop-filter: blur(6px); border-radius: 1rem; padding: 1rem;
  contain: content; content-visibility: auto; contain-intrinsic-size: 400px 300px;
}

.strip-stack{ display:grid; gap:.6rem; }
.strip{ height:14px; border-radius:999px; overflow:hidden; background:#0f172a;
  position:relative; box-shadow: var(--glow, 0 0 0 rgba(0,0,0,0)); transition: box-shadow .35s ease;
}
.strip > i{ display:block; height:100%; transform:translateX(var(--start, -30%));
  animation-name: flow;
  animation-duration: var(--speed, 8s);
  animation-timing-function: linear;
  animation-iteration-count: infinite;
  animation-delay: var(--delay, 0s);
  filter: blur(.5px) saturate(var(--sat, 1));
  opacity: var(--alpha, 1);
  mix-blend-mode: var(--blend, screen);
}
@keyframes flow{ to{ transform:translateX(var(--end, 30%)) } }

.control-groups{ display:grid; gap:1rem; }
@media (min-width: 720px){ .control-groups{ grid-template-columns: repeat(3, minmax(0,1fr)); } }
.control-group{ display:grid; gap:.45rem; }
.control-group h3{ margin:0; font-size:1rem; }
.control-group .help{ margin:0; color:var(--muted); font-size:.9rem; }

.node-area{ position:relative; display:grid; place-items:center; margin-top:1rem; }
.node-area svg{ width:100%; height:auto; display:block; }
.node-area svg g{ cursor:pointer; }
.node-area svg g:focus-visible{ outline:none; }
.node-area svg g:focus-visible circle:nth-of-type(2){ stroke:var(--warm); stroke-width:2.5; }
.node-tooltip{
  position:absolute;
  transform:translate(-50%, calc(-100% - 12px));
  padding:.55rem .85rem;
  border-radius:.75rem;
  border:1px solid rgba(255,255,255,.18);
  background:rgba(8,16,26,.9);
  box-shadow:0 12px 32px rgba(8,16,26,.45);
  pointer-events:none;
  min-width:120px;
  text-align:center;
  z-index:2;
}
.node-tooltip .node-id{ font-weight:600; letter-spacing:.02em; }
.node-tooltip .node-state{ display:block; color:var(--muted); font-size:.8rem; margin-top:.2rem; }
.node-tooltip::after{
  content:"";
  position:absolute;
  left:50%;
  bottom:-6px;
  width:12px;
  height:12px;
  transform:translate(-50%, -50%) rotate(45deg);
  background:rgba(8,16,26,.9);
  border-right:1px solid rgba(255,255,255,.18);
  border-bottom:1px solid rgba(255,255,255,.18);
}
.node-tooltip.below{
  transform:translate(-50%, calc(100% + 12px));
}
.node-tooltip.below::after{
  top:-6px;
  bottom:auto;
  border-right:none;
  border-bottom:none;
  border-left:1px solid rgba(255,255,255,.18);
  border-top:1px solid rgba(255,255,255,.18);
  transform:translate(-50%, 50%) rotate(45deg);
}

@media (prefers-contrast: more){
  .card, .btn, .chip { background: #0b1224 !important; border-color: #ffffff !important; }
  .lead, p { color: #f1f5f9 !important; }
}

@media (prefers-reduced-transparency: reduce){
  .card, .btn, .chip { backdrop-filter: none !important; background: #0b1224 !important; border-color: #ffffff !important; }
}

:root[data-lowtrans] .card,
:root[data-lowtrans] .btn,
:root[data-lowtrans] .chip { backdrop-filter: none !important; background: #0b1224 !important; border-color: #ffffff !important; }

@media (prefers-reduced-motion:reduce){
  *{ animation:none !important; transition:none !important }
}

.tiles{ display:grid; gap:1rem; grid-template-columns: repeat(auto-fit, minmax(220px,1fr)); }
.tiles article{ background:rgba(255,255,255,.08); border-radius:1rem; padding:1.25rem; border:1px solid rgba(255,255,255,.16); }
.tiles h3{ margin:0 0 .5rem; font-size:1.1em; }

.lead{ color:var(--muted); }

.cards{ display:grid; gap:1rem; grid-template-columns: repeat(auto-fit, minmax(240px,1fr)); }
.cards h3{ margin:.25rem 0; font-size:1.1em; }
.cards p{ margin:0; color:var(--muted); }

.faq{ display:grid; gap:1rem; }
.faq details{ background:rgba(255,255,255,.08); border-radius:1rem; padding:1rem 1.25rem; border:1px solid rgba(255,255,255,.16); }
.faq summary{ cursor:pointer; font-weight:600; }

.contact{ background:rgba(255,255,255,.05); border-radius:1rem; padding:1.5rem; border:1px solid rgba(255,255,255,.12); }
.form{ display:grid; gap:.85rem; }
.form.glass{ background:rgba(255,255,255,.04); border-radius:1rem; border:1px solid rgba(255,255,255,.14); padding:1.25rem; backdrop-filter:blur(6px); }
.form .f-row{ display:grid; gap:.35rem; }
.form .f-row.inline{ display:flex; align-items:center; gap:1rem; flex-wrap:wrap; }
.form label{ font-weight:600; }
.form input, .form textarea{ padding:.65rem .75rem; border-radius:.6rem; border:1px solid rgba(255,255,255,.2); background:rgba(8,16,26,.6); color:var(--ink); font:inherit }
.form textarea{ min-height:120px; resize:vertical; }
.form .error{ color:#fca5a5; min-height:1.2em; }
.form .hint{ color:var(--muted); font-size:.85rem; }
.form-note{ color:var(--muted); font-size:.95rem; }
.form-note.success{ color:#4ade80; }
.form-note.error{ color:#f87171; }
.btn.big{ padding:.75rem 1.2rem; font-weight:600; }
.reveal{ will-change: transform, opacity; }

footer{ padding:2rem 0; text-align:center; color:var(--muted); font-size:.9rem; }
