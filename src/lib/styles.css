/* CSS Variables and Design Tokens */
:root {
  --ambient-hue: 355;
  
  /* Reclame Fabriek palette */
  --bg-0:#0a0b12; 
  --bg-1:#0e1220; 
  --bg:#0b1120; 
  --ink:#fafafa; 
  --muted:#c7cfdd;
  
  /* Brand colors */
  --mag:#e73ba3; 
  --cherry:#dc143c; 
  --cya:#1cc5dc; 
  --amb:#ffd166;
  --a:#e73ba3; 
  --b:#dc143c; 
  --c:#1cc5dc; 
  --warm:#ffd166;
  
  /* Extended brand hues (Apple keynote vibes) */
  --rf-magenta:#e73ba3; 
  --rf-cherry:#dc143c; 
  --rf-cyan:#1cc5dc; 
  --rf-amber:#ffd166;
  
  /* Gradients */
  --primary-grad: linear-gradient(135deg, var(--mag), var(--cherry), var(--cya));
  --grad-rf: linear-gradient(135deg, var(--rf-magenta), var(--rf-cherry), var(--rf-cyan));
  --grad-warm: linear-gradient(135deg, var(--rf-amber), var(--rf-magenta));
  
  /* Effects */
  --glow-soft:.16; 
  --glow-strong:.24; 
  --halo:96px;
  --ring: var(--amb);
  --shadow: 0 10px 30px rgba(0,0,0,.35);
  
  /* Halo "grades" for cards/components (tokenized) */
  --halo-0: 0;          /* none */
  --halo-1: .06;        /* subtle */
  --halo-2: .10;        /* soft */
  --halo-3: .16;        /* strong */
  --halo-4: .22;        /* vivid */

  /* Card depth tiers */
  --glass-0: rgba(255,255,255,.03);
  --glass-1: rgba(255,255,255,.06);
  --glass-2: rgba(255,255,255,.10);
  
  /* Gradient systems */
  --grad-rf-alt: linear-gradient(135deg, var(--rf-cyan), var(--rf-cherry), var(--rf-magenta));

  /* Motion tokens (respect reduced motion) */
  --ease-out: cubic-bezier(.2,.8,.2,1);
  --dur-fast: 180ms; 
  --dur-med: 360ms; 
  --dur-slow: 900ms;
  
  /* Typography - Scaled up */
  --fs-h1: clamp(3rem, 8vw, 5rem);
  --fs-h2: clamp(2rem, 5vw, 3rem);
  --fs-h3: clamp(1.5rem, 3.5vw, 2.2rem);
  --fs: clamp(1rem, 1.6vw, 1.1rem);
  --fs-lead: clamp(1.05rem, 2.2vw, 1.25rem);
  --fs-big: clamp(1.05rem, 2.1vw, 1.2rem);
}

@media (prefers-reduced-motion: reduce){
  :root{ 
    --dur-fast: 0ms; 
    --dur-med: 0ms; 
    --dur-slow: 0ms; 
  }
}

/* Light mode support */
@media (prefers-color-scheme: light){
  :root{ 
    --bg-0:#ffffff; 
    --bg-1:#ffffff; 
    --bg:#ffffff;
    --ink:#0b1020; 
    --muted:#475569;
    /* Keep red gradients vibrant in light mode */
    --primary-grad: linear-gradient(135deg, var(--mag), var(--cherry), var(--cya));
    --grad-rf: linear-gradient(135deg, var(--rf-magenta), var(--rf-cherry), var(--rf-cyan));
  }
}

:root{transition:--ambient-hue 1.6s ease;}

/* Reset and base styles */
* { box-sizing: border-box; }
html:focus-within { scroll-behavior: smooth; }
html, body { height: 100%; }

/* Single global background â€” no per-section fills */
html, body { background: transparent; }

body {
  margin: 0;
  min-height: 100dvh;
  color: var(--ink);
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  font-size: var(--fs);
  line-height: 1.6;
  text-rendering: optimizeLegibility;
}

/* Brand gradient overlay behind LumenField (lower z than canvases)
 * Z-index layering system:
 * -5: Brand gradient (this element, behind everything)
 * -4 to -1: LumenField canvas layers (dot mesh, halos, filaments, cursor flare)
 * 0+: Content (header, cards, text, etc.)
 */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -5;
  --h: var(--ambient-hue);
  background:
    radial-gradient(120% 120% at 20% 15%, oklch(60% .12 calc(var(--h) + 30)) 0%, transparent 55%),
    radial-gradient(120% 120% at 80% 70%, oklch(58% .10 calc(var(--h) - 40)) 0%, transparent 55%),
    var(--bg);
}

:where(button, a, [role="button"], input, select, textarea):focus-visible {
  outline: 2px solid var(--rf-amber);
  outline-offset: 2px;
  border-radius: 0.5rem;
}

/* Skip link for accessibility */
.skip-link { 
  position: absolute; 
  left: 0; 
  top: -40px; 
  background: #111; 
  color: #fff; 
  padding: .5rem .75rem; 
  z-index: 1000; 
  text-decoration: none;
}
.skip-link:focus { top: .5rem; }

/* Layout */
.container { width: min(1200px, 92vw); margin: 0 auto; }
.section { padding: clamp(2rem, 5vw, 4rem) 0; }
.center { text-align: center; }

/* Sections are transparent; only cards have surfaces */
.section, .section .container {
  background: transparent !important;
  box-shadow: none !important;
  border: 0 !important;
}
/* Cards = the only "surfaces" */
.card {
  position: relative;
  background: var(--glass-1);
  border: 1px solid rgba(255,255,255,.14);
  border-radius: 1rem;
  padding: 1rem;
  contain: content;
  content-visibility: auto;
  contain-intrinsic-size: 400px 300px;
}

.card::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg,
    color-mix(in oklab, oklch(75% .1 var(--ambient-hue)) 85%, transparent),
    color-mix(in oklab, oklch(70% .08 calc(var(--ambient-hue) + 40)) 60%, transparent));
  pointer-events: none;
  opacity: .7;
}

.card::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: radial-gradient(120% 120% at 50% -20%, rgba(255,255,255,.06), transparent 55%);
  mix-blend-mode: screen;
  pointer-events: none;
  opacity: .75;
}

.card > * { position: relative; z-index: 1; }
.card, .grad-frame { color: var(--ink); }
.card p, .card li, .card small { color: color-mix(in oklab, var(--ink) 88%, rgba(255,255,255,.8)); }
.card ul { margin: .5rem 0 0; padding-left: 1.2rem; display: grid; gap: .35rem; }
.card ul li { list-style: disc; color: var(--ink); }
.card ul li strong { color: var(--warm); }
.faq{margin:0;display:grid;gap:1rem}
.faq div{display:grid;gap:.4rem}
.faq dt{font-weight:600}
.faq dd{margin:0;color:var(--muted)}
.grid{display:grid;gap:clamp(1rem,2.5vw,1.5rem)}
.grid-2{grid-template-columns:repeat(2,minmax(0,1fr))} @media(max-width:900px){.grid-2{grid-template-columns:1fr}}

/* Buttons with ripple effect */
.btn { 
  display: inline-flex; 
  align-items: center; 
  gap: .5rem; 
  font-weight: 600;
  padding: .75rem 1rem; 
  border-radius: .9rem; 
  border: 2px solid transparent;
  background: rgba(255,255,255,.06);
  color: var(--ink);
  text-decoration: none;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  transition: transform .25s ease, box-shadow .25s ease;
}

.btn::after { 
  content: ""; 
  position: absolute; 
  inset: 0; 
  background: radial-gradient(120px 60px at var(--mx,50%) var(--my,50%), rgba(255,255,255,.2), transparent 70%); 
  opacity: 0; 
  transition: opacity .25s; 
  pointer-events: none;
}

.btn:hover::after { opacity: 1; }

.btn:hover { 
  transform: translateY(-1px); 
  box-shadow: 0 12px 26px rgba(8,17,35,.45); 
}

.btn.primary { 
  background: var(--grad-rf); 
  color: #071117; 
  border-radius: .7rem; 
  padding: .55rem .9rem; 
  font-weight: 600;
  border: 0;
}

.btn.primary:hover { 
  filter: saturate(1.05) brightness(1.05);
}

.btn.big { 
  padding: 1rem 1.25rem; 
  font-size: 1.05rem; 
}

.btn.outline { 
  border-color: #7dd3fc; 
  color: var(--ink); 
  background: transparent; 
}

.btn.ghost { 
  background: rgba(255,255,255,.06); 
  border-color: rgba(255,255,255,.15); 
  color: var(--ink); 
}

.btn.brand { 
  font-weight: 600; 
  letter-spacing: .02em; 
  padding-inline: .75rem .95rem; 
  background: rgba(255,255,255,.08); 
  box-shadow: 0 8px 32px rgba(9,14,30,.45); 
}
/* Brand elements */
.brand-mark { 
  width: 1.5rem; 
  height: 1.5rem; 
  display: block; 
  border-radius: .45rem; 
  padding: .1rem; 
  background: radial-gradient(120% 120% at 50% 40%, rgba(231,59,163,.9), rgba(220,20,60,.7) 58%, rgba(7,17,23,.4) 90%); 
  box-shadow: 0 0 24px rgba(231,59,163,.5), 0 0 18px rgba(28,197,220,.4); 
  filter: drop-shadow(0 0 8px rgba(28,197,220,.45));
}

.brand-label { white-space: nowrap; }

/* Hero section */
.hero { 
  display: grid; 
  gap: 1rem; 
  padding-top: clamp(2rem, 10vh, 7rem); 
}

.hero h1 {
  font-size: var(--fs-h1);
  line-height: 1.12;
  margin: 0;
  background: var(--primary-grad);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  text-shadow: none;
}

.hero p.lead, .lead { 
  font-size: var(--fs-lead);
  color: var(--muted); 
  margin: .5rem 0 0; 
}

/* Optional: reduce long text glow over busy backgrounds */
.readable {
  text-shadow: 0 1px 1.5px rgba(0,0,0,.35);
}

/* Light vignette behind hero text only (inside hero card) */
#hero .lead {
  position: relative;
}
#hero .lead::before {
  content: "";
  position: absolute;
  inset: -8% -10%;
  z-index: -1;
  background: radial-gradient(80% 70% at 30% 40%, rgba(0,0,0,.18), transparent 70%);
  pointer-events: none;
}

.big {
  font-size: var(--fs-big);
  color: var(--muted);
}

/* Pills (info toggles) */
.pills, .pill-row { 
  display: flex; 
  gap: .7rem; 
  flex-wrap: wrap; 
  margin: 1rem 0 1.25rem; 
}

.pill { 
  background: rgba(255,255,255,.06); 
  border: 1px solid rgba(255,255,255,.15); 
  color: var(--ink); 
  border-radius: 999px; 
  padding: .5rem .9rem; 
  cursor: pointer;
  transition: background .3s ease, border-color .3s ease;
  font-size: inherit;
  font-family: inherit;
}

.pill[aria-selected="true"],
.pill[aria-pressed="true"] { 
  background: #101733; 
  border-color: rgba(255,255,255,.3); 
}

/* Info cards */
.info-cards { display: grid; }

.infocard { 
  display: none; 
  background: #0d1328; 
  border: 1px solid rgba(255,255,255,.12); 
  border-radius: 1rem; 
  padding: 1rem; 
  box-shadow: var(--shadow); 
}

.infocard.is-active { display: block; }

/* Chips (existing style retained but enhanced) */
.chips { 
  display: flex; 
  flex-wrap: wrap; 
  gap: .5rem; 
}

.chip { 
  background: rgba(255,255,255,.06); 
  border: 1px solid rgba(255,255,255,.14); 
  border-radius: 999px; 
  padding: .35rem .7rem;
  color: var(--ink); 
  cursor: pointer; 
  transition: background .3s ease, border-color .3s ease, box-shadow .3s ease;
  font-family: inherit;
  font-size: inherit;
}

.chip[aria-selected="true"] { 
  background: rgba(255,255,255,.12);
}

.chip[aria-checked="true"], 
.chips .chip:focus-visible { 
  background: rgba(255,255,255,.18); 
  border-color: color-mix(in oklab, oklch(70% .1 var(--ambient-hue)) 65%, transparent); 
  box-shadow: 0 0 0 1px color-mix(in oklab, oklch(75% .1 var(--ambient-hue)) 40%, transparent);
}

/* LED strips */
.strip { 
  height: 16px; 
  border-radius: 999px; 
  overflow: hidden; 
  background: #0f172a;
  box-shadow: 0 0 18px rgba(108,43,217,.35);
  position: relative;
  margin: 12px 0;
}

.strip::before {
  content: ""; 
  position: absolute; 
  inset: 0;
  background:
    repeating-linear-gradient(90deg,
      rgba(28,197,220,.95) 0 6px,
      rgba(231,59,163,.95) 6px 12px,
      rgba(220,20,60,.95) 12px 18px,
      rgba(255,209,102,.95) 18px 24px);
  filter: blur(.6px);
  transform: translateX(-30%);
  animation: move var(--speed, 6s) linear infinite;
}

.strip > i { 
  display: block; 
  height: 100%; 
  transform: translateX(-30%); 
  animation: flow var(--speed, 8s) linear infinite; 
  filter: blur(.5px) drop-shadow(0 0 8px rgba(255,255,255,.28));
}

@keyframes flow { to { transform: translateX(30%); } }
@keyframes move { to { transform: translateX(30%); } }

.node-card{position:relative}
.tip{position:absolute;min-width:160px;max-width:220px;background:rgba(18,20,30,.92);border:1px solid rgba(255,255,255,.15);border-radius:.6rem;padding:.5rem .6rem;box-shadow:0 12px 24px rgba(0,0,0,.35);pointer-events:none;font-size:.9rem}

/* Grids */
.grid { display: grid; gap: clamp(1rem, 2.5vw, 2rem); }
.grid.two, .grid-2 { 
  grid-template-columns: repeat(2, minmax(0, 1fr)); 
}
.grid.three { 
  grid-template-columns: repeat(3, minmax(0, 1fr)); 
}

@media (max-width: 1024px) {
  .grid.two, .grid-2 { grid-template-columns: 1fr; }
}

@media (max-width: 900px) {
  .grid.three { grid-template-columns: 1fr; }
  .grid-2 { grid-template-columns: 1fr; }
}

/* Form controls */
label{display:grid;gap:.35rem;font-weight:600}
input,textarea{font:inherit;padding:.65rem .75rem;border-radius:.6rem;border:1px solid rgba(255,255,255,.2);background:rgba(8,16,26,.65);color:var(--ink)}
textarea{min-height:120px;resize:vertical}

.contact-card{
  display:grid;
  gap:clamp(1rem, 2.8vw, 1.6rem);
  padding:clamp(1.1rem, 3vw, 1.85rem);
}

.contact-card h2{
  margin:0;
  font-size:var(--fs-h2);
}

.contact-card p{
  margin:0;
  color:color-mix(in oklab, var(--ink) 88%, rgba(255,255,255,.72));
  max-width:60ch;
}

input[type="range"] { 
  width: 170px; 
  cursor: pointer;
}

.switch {
  display: flex;
  gap: .5rem;
  align-items: center;
}

/* Controls layout */
.controls { 
  display: flex; 
  gap: 1rem; 
  align-items: center; 
  flex-wrap: wrap; 
  margin-top: 1rem; 
}

.controls label { 
  display: flex; 
  gap: .5rem; 
  align-items: center; 
  background: #0f172a; 
  padding: .5rem .75rem; 
  border-radius: .6rem; 
  border: 1px solid rgba(255,255,255,.12);
}

/* Demo */
.demo {
  background:
    radial-gradient(800px 400px at 50% -30%, rgba(28,197,220,.18), transparent 60%),
    radial-gradient(800px 400px at 10% 130%, rgba(231,59,163,.18), transparent 60%),
    #0b1120;
  border: 1px solid rgba(255,255,255,.12);
  border-radius: 1rem; 
  padding: 1rem; 
  box-shadow: var(--shadow);
}

/* Timeline */
.timeline { margin-top: 1rem; }

.timeline .mono { 
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; 
  font-size: .9rem; 
  color: var(--muted); 
}

.timeline input[type="range"] { width: 100%; }

.timeline-note { 
  margin-top: .35rem; 
  color: var(--muted); 
}

/* Details/Accordion */
.accordion { margin-top: .75rem; }

details summary {
  cursor: pointer;
  list-style: none;
}

details summary::-webkit-details-marker {
  display: none;
}

/* FAQ */
.faq{margin:0;display:grid;gap:1rem}
.faq div{display:grid;gap:.4rem}
.faq dt{font-weight:600}
.faq dd{margin:0;color:var(--muted)}

h1,h2,h3{ text-wrap: balance }
button,.chip,.btn,a.card{ min-height:44px }
.card{ contain:content; content-visibility:auto; contain-intrinsic-size:400px 300px }

/* Footer */
.site-footer { 
  border-top: 1px solid rgba(255,255,255,.12); 
  padding: 2rem 0; 
  background: #0b0f1a; 
}

.footer-grid { 
  display: grid; 
  grid-template-columns: 1fr auto auto; 
  gap: 1rem; 
  align-items: start; 
}

.site-footer a { 
  color: var(--muted); 
  text-decoration: none;
}

@media (max-width: 900px) {
  .footer-grid { 
    grid-template-columns: 1fr; 
    text-align: center; 
  }
}

/* Headings keep balance on phones */
h1, h2, h3 { text-wrap: balance; }

/* All headings use gradient with animation */
h1, h2, h3 {
  background: var(--grad-rf);
  background-size: 200% 200%;
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  animation: gradient-shift 8s ease infinite;
}

h1 { font-size: var(--fs-h1); }
h2 { font-size: var(--fs-h2); }
h3 { font-size: var(--fs-h3); }

@keyframes gradient-shift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

/* Make header glassless; only a hairline accent */
.header {
  position: relative;
  background: transparent !important;
  border: 0 !important;
  backdrop-filter: none !important;
}
.header::after {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  height: 1px;
  background: linear-gradient(90deg, rgba(255,255,255,.18), rgba(255,255,255,.02), rgba(255,255,255,.18));
  opacity: .5;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce){
  * { animation: none !important; transition: none !important; }
}

/* Tokenized halos for any container: data-halo="0..4" */
[data-halo]{
  position:relative; isolation:isolate;
  background:var(--glass-1); border:1px solid rgba(255,255,255,.14); border-radius:1rem;
}
[data-halo]::before{
  content:""; position:absolute; inset:-2px; border-radius:inherit; z-index:-1;
  background:
    radial-gradient(120% 160% at 20% 20%, color-mix(in oklab, var(--rf-magenta) 60%, transparent) 0 30%, transparent 60%),
    radial-gradient(120% 160% at 80% 60%, color-mix(in oklab, var(--rf-cyan) 60%, transparent) 0 30%, transparent 60%);
  opacity: var(--halo-amount, .10); filter: blur(24px);
  transition: opacity var(--dur-med) var(--ease-out);
}
[data-halo="0"]{ --halo-amount: var(--halo-0) }
[data-halo="1"]{ --halo-amount: var(--halo-1) }
[data-halo="2"]{ --halo-amount: var(--halo-2) }
[data-halo="3"]{ --halo-amount: var(--halo-3) }
[data-halo="4"]{ --halo-amount: var(--halo-4) }

/* Animated gradient separator */
hr.rule{
  height:2px; border:0; border-radius:999px; overflow:hidden; background:#0f172a;
  position:relative; isolation:isolate;
  margin: clamp(12px, 2vh, 24px) auto;
  max-width: min(1080px, 92vw);
  opacity: .85;
}
hr.rule::after{
  content:""; position:absolute; inset:0; translate:-50% 0; width:120%;
  background: conic-gradient(from 0deg, var(--rf-magenta), var(--rf-cherry), var(--rf-cyan), var(--rf-magenta));
  filter: blur(.6px); animation: sweep 8s linear infinite;
}
@keyframes sweep { to { translate: 50% 0; rotate: 1turn; } }

/* Reveal choreography */
.reveal{ opacity:0; transform: translateY(16px) scale(.98); }
.reveal.in{ opacity:1; transform: none; transition: transform var(--dur-med) var(--ease-out), opacity var(--dur-med) var(--ease-out); }

/* Headings with kinetic gradient fill */
.kg{
  background: var(--grad-rf);
  -webkit-background-clip:text; background-clip:text;
  color: transparent;
}

/* AI + LED micro-interactions for cards */
[data-halo].card{ transition: transform var(--dur-med) var(--ease-out), background var(--dur-med) var(--ease-out) }
[data-halo].card:hover, [data-halo].card:focus-within{
  transform: translateY(-2px);
}
[data-halo="1"].card:hover::before, [data-halo="1"].card:focus-within::before{ opacity: var(--halo-2) }
[data-halo="2"].card:hover::before, [data-halo="2"].card:focus-within::before{ opacity: var(--halo-3) }
[data-halo="3"].card:hover::before, [data-halo="3"].card:focus-within::before{ opacity: var(--halo-4) }

/* Section heading underline */
h2.under{ position:relative; padding-bottom:.4rem; }
h2.under::after{
  content:""; position:absolute; left:0; right:0; bottom:0; height:2px; border-radius:999px; overflow:hidden; background:#0f172a;
}
h2.under::before{
  content:""; position:absolute; left:0; right:40%; bottom:0; height:2px;
  background: linear-gradient(90deg, var(--rf-magenta), var(--rf-cyan));
  animation: underline 6s linear infinite;
}
@keyframes underline{ 50%{ left:60%; right:0 } }

/* Gradient frame (animated border) - Apple-ish */
.grad-frame{
  position:relative; border-radius:1rem; background:var(--glass-1);
  border:1px solid rgba(255,255,255,.14); overflow:hidden; isolation:isolate;
}
.grad-frame::before{
  content:""; position:absolute; inset:0; z-index:-2; pointer-events:none;
  background: conic-gradient(from 0deg, var(--rf-magenta), var(--rf-cherry), var(--rf-cyan), var(--rf-magenta));
  filter: blur(10px); opacity:.25; animation: spin 16s linear infinite;
}
.grad-frame::after{
  content:""; position:absolute; inset:1px; border-radius:calc(1rem - 1px); background:var(--glass-1);
  pointer-events:none; z-index:-1;
}
.grad-frame > * { position: relative; z-index: 1; }
@keyframes spin{ to{ transform: rotate(1turn) } }

.readable { text-shadow: 0 1px 1.5px rgba(0,0,0,.35); }

#hero .lead { position: relative; }
#hero .lead::before {
  content: "";
  position: absolute;
  inset: -8% -10%;
  z-index: -1;
  background: radial-gradient(80% 70% at 30% 40%, rgba(0,0,0,.18), transparent 70%);
  pointer-events: none;
}

/* Single-BG guardrails: only cards have surfaces */
section, .section, .container, .rail, .stories{
  background: transparent !important;
  box-shadow: none !important;
  border: 0 !important;
}

/* Language toggle positioning */
.lang-wrap{
  position: fixed;
  top: clamp(8px, 2vh, 16px);
  right: clamp(8px, 2vw, 20px);
  z-index: 25;
}
.lang-wrap .card{ padding: .3rem .4rem; }
